```javascript
const fs = require("fs");
const path = require("path");

let routerArray = [];

function findClosestLayout(directory) {
  const files = fs.readdirSync(directory);
  const hasLayout = files.includes('layout.tsx');

  if (hasLayout) {
    return path.join(directory, 'layout.tsx');
  }

  const parentDirectory = path.dirname(directory);

  if (parentDirectory === directory || !directory.includes('views')) {
    return null;
  }

  return findClosestLayout(parentDirectory);
}



function printDirectoryContents(directory, parentPath = "/") {
  const files = fs.readdirSync(directory);

  const hasLayout = files.includes("layout.tsx");
  const hasPage = files.includes("page.tsx");

  const closestLayout = findClosestLayout(directory);

  for (const file of files) {
    const filePath = path.join(directory, file);
    const stat = fs.statSync(filePath);

    if (stat.isDirectory()) {
      const folderPath = path.join(parentPath, file);
      printDirectoryContents(filePath, folderPath);
    } else {
      if (!hasLayout && !hasPage) return;
      const filePath = path.join(parentPath, file).replace(/\\/g, "/");
      const layout = closestLayout ? closestLayout
        .replace(path.join(__dirname, "../views"), "")
        .replace(/\\/g, "/") : null

      const origin = filePath
        .replace(/\/?(layout|page).tsx$/, "")
        .replace("/", "");

      routerArray.push({
        path: origin || "/",
        elementPath: filePath,
        layout: layout.replace('/layout.tsx', '').replace('/','') || "/",
      });
    }
  }
}

const viewsDirectory = path.join(__dirname, "../views");
printDirectoryContents(viewsDirectory);

routerArray.sort((a, b) => a.path.localeCompare(b.path));

console.log(routerArray);





// const router = [
//   {
//     path: '/',
//     element: LazyLoad(import('@/views/layout')),
//     children: [
//       {
//         path: '',
//         element: LazyLoad(import('@/views/page')),
//       },
//       {
//         path: 'one',
//         element: LazyLoad(import('@/views/one/layout')),
//         children: [
//           {
//             path: '',
//             element: LazyLoad(import('@/views/one/page')),
//           },
//           {
//             path: 'onechild',
//             element: LazyLoad(import('@/views/one/onechild/page')),
//           },
//         ],
//       },
//       {
//         path: 'second',
//         element: LazyLoad(import('@/views/second/page')),
//       },
//       {
//         path: 'second/secondchild',
//         element: LazyLoad(import('@/views/second/secondchild/page')),
//       },
//     ],
//   },
// ]
const aaa = {
  "/": {
    element: "layout",
    children: {
      "/": {
        element: "page",
      },
      "one": {
        element: "one/layout",
        children: {
          "/": {
            element: "one/page"
          },
          "onechild": {
            element: "one/onechild/page",
          },
        },
      },
      "second": {
        element: "second/page",
      },
      "second/secondchild": {
        element: "second/secondchild/page",
      },
    },
  },
};

// 資料結構為
const views = `
├─ one
│  ├─ onechild
│  │  └─ page.tsx
│  ├─ layout.tsx
│  └─ page.tsx
├─ second
│  ├─ secondchild
│  │  └─ page.tsx
│  └─ page.tsx
├─ layout.tsx
└─ page.tsx
`



```