
```bash
pnpm i axios
pnpm i -D axios-mock-adapter

mkdir -p src/lib 
mkdir -p src/api 

echo "import axios, { AxiosInstance, AxiosError, AxiosResponse } from 'axios'

const request: AxiosInstance = axios.create({
  baseURL: '/',
  timeout: 3000,
})

request.interceptors.request.use(
  (config) => {
    config.headers['authorization'] =
      'Bearer ' + localStorage.getItem('token') || ''
    return config
  },
  (error: AxiosError) => {
    return Promise.reject(error)
  },
)

request.interceptors.response.use(
  (response: AxiosResponse) => {
    console.log('@/lib/request', response)
    return response
  },
  (error: AxiosError) => {
    return Promise.reject(error)
  },
)

export default request" > src/lib/request.ts
echo "import request from '@/lib/request'
import MockAdapter from 'axios-mock-adapter'

interface EnvType {
  BASE_URL: string
  MODE: string
  DEV: boolean
  PROD: boolean
  SSR: boolean
}
const mock = new MockAdapter(request)

mock.onPost('/api/env').reply((config) => {
  console.log('@/api/env/mockConfig', config)
  const data = JSON.parse(config.data)
  return [200, data]
})

export const env = (data: EnvType) => {
  return request.post<EnvType>('/api/env', data)
}

export const click = async () => {
  const res = await env(import.meta.env)
  console.log('env res mode', res.data.MODE)
}" > src/api/env.ts
```